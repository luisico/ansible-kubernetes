---
# Default to latest version if none specified
kubernetes_packages_version: '{{"" if kubernetes_version == "latest" else ("-" + kubernetes_version)}}'

# Upgrade to latest available version matching kubernetes_version if the version contains a wildcard or "latest" is specified.
kubernetes_packages_state: '{{"latest" if kubernetes_version is search("(latest|\*)") else "present"}}'

# List of packages to install
kubernetes_packages:
  - kubelet{{ kubernetes_packages_version }}
  - kubeadm{{ kubernetes_packages_version }}
  - kubectl{{ kubernetes_packages_version }}

# IP address from interface name
kubernetes_address: "{{ hostvars[inventory_hostname]['ansible_' + kubernetes_interface].ipv4.address }}"
